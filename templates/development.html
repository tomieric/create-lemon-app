<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>
      模板开发 | create-lemon-app
    </title>
    <meta name="description" content="快速创建前端项目">
    <link rel="stylesheet" href="/create-lemon-app/_assets/style.4377c470.css">
    <link rel="modulepreload" href="/create-lemon-app/_assets/common-dca46cb9.js">
    <link rel="modulepreload" href="/create-lemon-app/_assets/templates_development.md.bedba56c.lean.js">
    <link rel="modulepreload" href="/create-lemon-app/_assets/app.17a6cbca.js">
    
    
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="navbar"><!--[--><a class="title" aria-label="create-lemon-app, back to home" href="/create-lemon-app/"><img class="logo" src="/create-lemon-app/images/logo.png" alt="logo"><span>create-lemon-app</span></a><div class="flex-grow"></div><nav class="nav-links hide-mobile"><!--[--><!--[--><div class="nav-item"><a class="nav-link" href="/create-lemon-app/" target="" rel="">起步 <!----></a></div><!--]--><!--[--><div class="nav-item"><a class="nav-link" href="/create-lemon-app/templates/" target="" rel="">模板 <!----></a></div><!--]--><!--[--><div class="nav-item"><a class="external nav-link" href="https://github.com/tomieric/create-lemon-app/releases" target="_blank" rel="noopener noreferrer">Release Notes <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><!--]--><!--]--><!----><div class="nav-item"><a class="external nav-link" href="https://github.com/tomieric/create-lemon-app" target="_blank" rel="noopener noreferrer">GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></nav><!--[--><!--[--><!--]--><!--]--><!--]--><div class="sidebar-button"><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div></header><aside class=""><!--[--><nav class="nav-links show-mobile"><!--[--><!--[--><div class="nav-item"><a class="nav-link" href="/create-lemon-app/" target="" rel="">起步 <!----></a></div><!--]--><!--[--><div class="nav-item"><a class="nav-link" href="/create-lemon-app/templates/" target="" rel="">模板 <!----></a></div><!--]--><!--[--><div class="nav-item"><a class="external nav-link" href="https://github.com/tomieric/create-lemon-app/releases" target="_blank" rel="noopener noreferrer">Release Notes <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><!--]--><!--]--><!----><div class="nav-item"><a class="external nav-link" href="https://github.com/tomieric/create-lemon-app" target="_blank" rel="noopener noreferrer">GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></nav><!--[--><!--[--><!--]--><!--]--><ul class="sidebar"><!--[--><li class="sidebar-item"><a class="sidebar-link" href="/create-lemon-app/templates">模板</a><ul class="sidebar-items"><li class="sidebar-item"><a class="sidebar-link" href="/create-lemon-app/templates/development">模板开发</a><!----></li><li class="sidebar-item"><a class="sidebar-link" href="/create-lemon-app/templates/list">列表</a><!----></li></ul></li><!--]--></ul><!--[--><!--[--><!--]--><!--]--><!--]--></aside><!-- TODO: make this button accessible --><div class="sidebar-mask"></div><main><div class="content"><!--[--><!--[--><!--]--><!--]--><div><h1 id="模板开发"><a class="header-anchor" href="#模板开发" aria-hidden="true">#</a> 模板开发</h1><p><code>create-lemon-app</code> 与 <code>vue-cli</code> 中的 <code>Preset</code> 相同的对话，我们在模板目录中新建<code>prompts.js</code>, 在创建模板时即可调用。对话内部是通过 <a href="https://github.com/SBoudrias/Inquirer.js" target="_blank" rel="noopener noreferrer">inquirer</a> 实现</p><p>例如，直接是问题数组：</p><div class="language-js"><pre><code><span class="token comment">// prompts.js</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token string">&#39;input&#39;</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">&#39;locale&#39;</span><span class="token punctuation">,</span>
    message<span class="token operator">:</span> <span class="token string">&#39;The locale of project localization.&#39;</span><span class="token punctuation">,</span>
    <span class="token function-variable function">validate</span><span class="token operator">:</span> <span class="token parameter">input</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span><span class="token operator">!</span>input<span class="token punctuation">,</span>
    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">&#39;en&#39;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">]</span>
</code></pre></div><p>例如，一个返回问题数组的函数</p><div class="language-js"><pre><code><span class="token comment">// prompts.js</span>

<span class="token comment">// 将 `package.json` 作为参数传入函数</span>
module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token parameter">pkg</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> prompts <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token string">&#39;input&#39;</span><span class="token punctuation">,</span>
      name<span class="token operator">:</span> <span class="token string">&#39;locale&#39;</span><span class="token punctuation">,</span>
      message<span class="token operator">:</span> <span class="token string">&#39;The locale of project localization.&#39;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">validate</span><span class="token operator">:</span> <span class="token parameter">input</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span><span class="token operator">!</span>input<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">&#39;en&#39;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>

  <span class="token comment">// 添加动态对话</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&#39;@vue/cli-plugin-eslint&#39;</span> <span class="token keyword">in</span> <span class="token punctuation">(</span>pkg<span class="token punctuation">.</span>devDependencies <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    prompts<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token string">&#39;confirm&#39;</span><span class="token punctuation">,</span>
      name<span class="token operator">:</span> <span class="token string">&#39;useESLintPluginVueI18n&#39;</span><span class="token punctuation">,</span>
      message<span class="token operator">:</span> <span class="token string">&#39;Use ESLint plugin for Vue I18n ?&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> prompts
<span class="token punctuation">}</span>
</code></pre></div><h2 id="动态模板"><a class="header-anchor" href="#动态模板" aria-hidden="true">#</a> 动态模板</h2><p>模板的开发来自于 <code>ejs</code> 模块的渲染，通过问题收集的数据对象，动态渲染到项目新文件。</p><p>比如 <code>package.json</code>：</p><div class="language-js"><pre><code><span class="token punctuation">{</span>
  <span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;%= projectName %&gt;&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vite&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;typecheck . &amp;&amp; vite build&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;vue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.0.2&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;@vue/compiler-sfc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.0.2&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;@vuedx/typecheck&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^0.2.4-0&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;@vuedx/typescript-plugin-vue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^0.2.4-0&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;typescript&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.0.3&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;vite&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.0.0-rc.8&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="输出变量"><a class="header-anchor" href="#输出变量" aria-hidden="true">#</a> 输出变量</h3><p>使用 <code>&lt;%= 变量 %&gt;</code> 来输出收集的配置，还可以通过 <code>&lt;% if (变量) {%&gt;</code> 判断语句进行选择，具体参考<a href="https://github.com/tomieric/create-lemon-app/preset/template-vue" target="_blank" rel="noopener noreferrer">template-vue</a></p></div><div class="links-wrapper"><div class="prev-link"><!----></div><div class="next-link"><!----></div></div><footer class="page-edit"><!----></footer><!--[--><!--[--><!--]--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"index.md\":\"8f548ca4\",\"templates_development.md\":\"bedba56c\",\"templates_index.md\":\"2dd0c455\",\"templates_list.md\":\"262f4505\",\"en_index.md\":\"520e3569\",\"en_templates_development.md\":\"2b0db3ad\",\"en_templates_index.md\":\"ba6450ae\",\"en_templates_list.md\":\"1ecb74b0\"}")</script>
    <script type="module" async src="/create-lemon-app/_assets/app.17a6cbca.js"></script>
  </body>
</html>